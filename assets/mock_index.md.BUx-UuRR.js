import{_ as e,c as i,o as a,ag as t}from"./chunks/framework.S-Qvb3wi.js";const c=JSON.parse('{"title":"Overview","description":"","frontmatter":{},"headers":[],"relativePath":"mock/index.md","filePath":"mock/index.md"}'),n={name:"mock/index.md"};function l(o,s,r,p,h,d){return a(),i("div",null,s[0]||(s[0]=[t(`<h1 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h1><p><code>@nest-openapi/mock</code> provides spec-driven mock server capabilities for NestJS applications. Generate realistic mock responses automatically from your OpenAPI 3.x specification.</p><ul><li><strong>Spec-driven</strong> — Mock responses generated directly from your OpenAPI spec</li><li><strong>Multiple strategies</strong> — Examples, JSON Schema Faker, or primitive values</li><li><strong>Flexible</strong> — Per-route overrides, request hints, and recording/replay</li></ul><h3 id="install" tabindex="-1">Install <a class="header-anchor" href="#install" aria-label="Permalink to &quot;Install&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @nest-openapi/mock</span></span></code></pre></div><h3 id="quick-start" tabindex="-1">Quick Start <a class="header-anchor" href="#quick-start" aria-label="Permalink to &quot;Quick Start&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// app.module.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Module } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@nestjs/common&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { OpenAPIMockModule } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@nest-openapi/mock&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> openApiSpec </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./openapi.json&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  imports: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    OpenAPIMockModule.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      specSource: { type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;object&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, spec: openApiSpec },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      enable: process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;development&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      mockByDefault: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Mock all routes by default, like a mock server</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      strategyOrder: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mediatype-examples&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;schema-examples&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jsf&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AppModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span></code></pre></div><p>That&#39;s it! Your routes will return mocked responses when enabled.</p><h3 id="mock-strategies" tabindex="-1">Mock Strategies <a class="header-anchor" href="#mock-strategies" aria-label="Permalink to &quot;Mock Strategies&quot;">​</a></h3><p>The <code>strategyOrder</code> option controls how responses are generated:</p><ul><li><strong><code>records</code></strong> — Uses previously recorded responses from disk (requires <code>recording.dir</code> configuration)</li><li><strong><code>mediatype-examples</code></strong> — Uses <code>examples</code> from <code>content[mediaType].examples</code> in your OpenAPI spec</li><li><strong><code>schema-examples</code></strong> — Uses <code>examples</code> (array) or <code>example</code> (single) from the schema object itself</li><li><strong><code>jsf</code></strong> — Generates realistic fake data from JSON schemas using JSON Schema Faker</li><li><strong><code>primitive</code></strong> — Simple deterministic values (<code>string</code> → <code>&quot;string&quot;</code>, <code>number</code> → <code>0</code>)</li><li><strong><code>passthrough</code></strong> — Skips mocking and calls the real controller</li></ul><p>Strategies are tried in order until one succeeds. Default: <code>[&quot;mediatype-examples&quot;, &quot;schema-examples&quot;, &quot;jsf&quot;]</code>.</p><p><strong>Example Strategy Priority:</strong></p><ol><li>First, try content-level examples (<code>mediatype-examples</code>)</li><li>Then, try schema-level examples (<code>schema-examples</code>)</li><li>Finally, generate from schema using JSF (<code>jsf</code>)</li></ol><p><strong>Note:</strong> To use recorded responses, add <code>&quot;records&quot;</code> to your <code>strategyOrder</code> and configure <code>recording.dir</code> in options.</p><p><strong>Field-by-Field Generation:</strong> In <code>schema-examples</code> strategy, the mock service generates responses field-by-field, for example:</p><ul><li>When strategies are in order: <code>schema-examples</code> → <code>jsf</code> → <code>primitive</code></li><li>Properties with <code>examples</code> use those examples</li><li>Properties without <code>examples</code> fall back to JSF or primitive values</li><li>This allows partial examples (some fields have <code>examples</code>, others don&#39;t)</li></ul><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li><a href="./options.html">Configuration Options</a> — Full configuration reference</li><li><a href="./decorators.html">Decorator Usage</a> — Per-route overrides and precedence</li><li><a href="./recording.html">Recording &amp; Replay</a> — Capture and replay mock responses</li><li><a href="./manual.html">Manual Mock API</a> — Programmatic mock generation</li></ul>`,19)]))}const g=e(n,[["render",l]]);export{c as __pageData,g as default};
